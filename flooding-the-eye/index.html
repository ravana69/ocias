<!DOCTYPE html><html lang="en">
<!-- Mirrored from ocias.com/works/flooding-the-eye/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2022 10:40:39 GMT -->
<head><meta charset="UTF-8"><title>Flooding the Eye</title><meta name="description" content="WebGL fluid simulation with arbitrary boundaries."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@alexanderocias"><meta name="twitter:creator" content="@alexanderocias"><meta property="og:url" content="index.html"><meta property="og:title" content="Flooding the Eye"><meta property="og:description" content="WebGL fluid simulation with arbitrary boundaries."><meta property="og:type" content="website"><meta property="og:image" content="promo.jpg"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta property="og:site_name" content="Alexander Ocias"><style type="text/css">@media screen{*{padding:0;margin:0}html,body{width:100%;height:100%;background-color:#000;color:#fff;overscroll-behavior:contain}#container{height:100%;width:100%;overflow:hidden;position:fixed}#game,#overlaytest{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;height:100%}noscript{text-align:center;position:absolute;width:100%;top:50%;transform:translateY(-50%);font-family:sans-serif}@media (pointer:coarse){html,body{min-height:100%;min-height:calc(100% + constant(safe-area-inset-top)/2);min-height:calc(100% + env(safe-area-inset-top)/2)}}@media (pointer:fine){#game{position:absolute;display:block}}}</style><meta name="theme-color" content="#000000"><meta name="apple-mobile-web-app-title" content="Flooding the Eye"><link rel="manifest" href="manifest.json"><meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width,height=device-height,viewport-fit=cover"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" sizes="192x192" href="launch-images/icon192.html"><link rel="apple-touch-startup-image" media="(width:1024px)" href="launch-images/splash2048x2732.html"><link rel="apple-touch-startup-image" media="(width:834px)" href="launch-images/splash1668x2224.html"><link rel="apple-touch-startup-image" media="(width:768px)" href="launch-images/splash1536x2048.html"><link rel="apple-touch-startup-image" media="(width:414px) and (min-height:719px)" href="launch-images/splash828x1792.html"><link rel="apple-touch-startup-image" media="(width:414px)" href="launch-images/splash1242x2208.html"><link rel="apple-touch-startup-image" media="(width:375px)" href="launch-images/splash750x1334.html"><link rel="apple-touch-startup-image" media="(width:375px) and (min-height:635px)" href="launch-images/splash1125x2436.html"><link rel="apple-touch-startup-image" media="(width:320px)" href="launch-images/splash640x1136.html"></head><body><div id="container"><noscript>Javascript is required.</noscript><canvas id="game" width="0" height="0" tabindex="0"></canvas></div><script>var e={blooby:{frame:{x:128,y:512,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256},pivot:{x:.5,y:.5}},bloopy:{frame:{x:0,y:0,w:512,h:512},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:512,h:512},sourceSize:{w:512,h:512},pivot:{x:.5,y:.5}},borders:{frame:{x:128,y:768,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256},pivot:{x:.5,y:.5}},char:{frame:{x:976,y:0,w:32,h:128},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:128},sourceSize:{w:32,h:128},pivot:{x:.5,y:.5}},chest:{frame:{x:672,y:120,w:32,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:16},sourceSize:{w:32,h:16},pivot:{x:.5,y:.5}},circle:{frame:{x:1008,y:40,w:8,h:8},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:8,h:8},sourceSize:{w:8,h:8},pivot:{x:.5,y:.5}},cursor:{frame:{x:1008,y:0,w:16,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:16,h:16},sourceSize:{w:16,h:16},pivot:{x:.5,y:.5}},downArrow:{frame:{x:1016,y:40,w:8,h:8},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:8,h:8},sourceSize:{w:8,h:8},pivot:{x:.5,y:.5}},dqbox:{frame:{x:976,y:160,w:24,h:24},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:24},sourceSize:{w:24,h:24},pivot:{x:.5,y:.5}},drakee:{frame:{x:912,y:64,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},earthboundfont:{frame:{x:768,y:0,w:208,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:208,h:64},sourceSize:{w:208,h:64},pivot:{x:.5,y:.5}},editor:{frame:{x:672,y:152,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},enemy:{frame:{x:672,y:216,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},"generic-tilemap":{frame:{x:0,y:512,w:128,h:512},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:128,h:512},sourceSize:{w:128,h:512},pivot:{x:.5,y:.5}},green:{frame:{x:1008,y:48,w:8,h:8},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:8,h:8},sourceSize:{w:8,h:8},pivot:{x:.5,y:.5}},hachiko:{frame:{x:672,y:136,w:32,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:16},sourceSize:{w:32,h:16},pivot:{x:.5,y:.5}},healPoint:{frame:{x:976,y:128,w:32,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:16},sourceSize:{w:32,h:16},pivot:{x:.5,y:.5}},humanity:{frame:{x:736,y:224,w:128,h:128},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:128,h:128},sourceSize:{w:128,h:128},pivot:{x:.5,y:.5}},menubg:{frame:{x:512,y:88,w:160,h:160},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:160,h:160},sourceSize:{w:160,h:160},pivot:{x:.5,y:.5}},metalslime:{frame:{x:912,y:128,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},"network-status":{frame:{x:1008,y:32,w:16,h:8},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:16,h:8},sourceSize:{w:16,h:8},pivot:{x:.5,y:.5}},"press-start-font":{frame:{x:512,y:0,w:256,h:24},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:24},sourceSize:{w:256,h:24},pivot:{x:.5,y:.5}},quill:{frame:{x:672,y:88,w:32,h:32},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:32},sourceSize:{w:32,h:32},pivot:{x:.5,y:.5}},redslime:{frame:{x:912,y:192,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},roundedbox:{frame:{x:1e3,y:160,w:24,h:24},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:24},sourceSize:{w:24,h:24},pivot:{x:.5,y:.5}},selector:{frame:{x:672,y:280,w:64,h:32},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:32},sourceSize:{w:64,h:32},pivot:{x:.5,y:.5}},slime:{frame:{x:672,y:216,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},slutmachine:{frame:{x:976,y:144,w:32,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:16},sourceSize:{w:32,h:16},pivot:{x:.5,y:.5}},smear:{frame:{x:720,y:24,w:32,h:128},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:128},sourceSize:{w:32,h:128},pivot:{x:.5,y:.5}},squiggler:{frame:{x:752,y:64,w:160,h:160},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:160,h:160},sourceSize:{w:160,h:160},pivot:{x:.5,y:.5}},testmenu:{frame:{x:512,y:248,w:160,h:160},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:160,h:160},sourceSize:{w:160,h:160},pivot:{x:.5,y:.5}},tinyfont:{frame:{x:512,y:24,w:208,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:208,h:64},sourceSize:{w:208,h:64},pivot:{x:.5,y:.5}},warning:{frame:{x:1008,y:16,w:16,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:16,h:16},sourceSize:{w:16,h:16},pivot:{x:.5,y:.5}},white:{frame:{x:1016,y:48,w:8,h:8},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:8,h:8},sourceSize:{w:8,h:8},pivot:{x:.5,y:.5}}},t="attribute vec2 a_position;attribute float a_id;attribute vec2 a_texCoord;uniform float u_total;uniform highp vec2 u_resolution;uniform highp vec2 u_inputResolution;uniform highp float u_time;uniform highp vec2 u_touchPosition;varying highp vec2 v_texCoord;varying highp vec4 v_color;varying highp vec2 v_precalc_texel;varying highp vec2 v_precalc_scale;varying highp vec2 v_region_range;mat2 Rotate2D(float x){float a=sin(x),b=cos(x);return mat2(b,-a,a,b);}void main(){float internalaspect=u_inputResolution.y/u_inputResolution.x;float externalaspect=u_resolution.y/u_resolution.x;float aspectdiff=internalaspect/externalaspect;gl_Position=vec4(a_position.xy,0,1);vec2 texCoord=a_texCoord;texCoord.y=1.-texCoord.y;v_texCoord=a_texCoord;v_precalc_texel=texCoord*u_inputResolution;v_precalc_scale=max(floor(u_resolution/u_inputResolution),vec2(1.0,1.0))*1.0;v_region_range=0.5-0.5/v_precalc_scale;}",i="attribute vec4 a_position;attribute vec2 a_texCoord;varying vec2 v_texCoord;void main(){gl_Position=a_position;v_texCoord=a_texCoord;}",r="attribute vec4 a_position;attribute vec2 a_texCoord;attribute vec4 a_color;varying vec2 v_texCoord;varying vec4 v_color;uniform vec2 u_resolution;void main(){gl_Position=a_position/vec4((u_resolution)/2.,1,1);v_texCoord=a_texCoord;}",o=[].indexOf,s={name:"flooding-the-eye",internalResolution:{x:0,y:0},displayedResolution:{x:160,y:160}};s.isOnMobile=navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),s.isInStandaloneMode=o.call(window.navigator,"standalone")>=0||window.navigator.standalone,s.canvas=document.getElementById("game"),s.clientToViewportPosition=function(e,t){return{x:e/=s.canvas.clientWidth,y:t/=s.canvas.clientHeight}},s.clientToClipPosition=function(e,t){return{x:e=e/s.canvas.clientWidth*2-1,y:t=t/s.canvas.clientHeight*-2+1}},s.viewportToPixelPosition=function(e,t){return{x:e=Math.round(e*s.internalResolution.x),y:t=Math.round(t*s.internalResolution.y)}},s.clipToPixelPosition=function(e,t){return{x:e=Math.round(e*s.internalResolution.x/2),y:t=Math.round(t*s.internalResolution.y/2)}};var a=[].indexOf,n={CRT:0,BILINEAR:1,PERFECT:2,init:function(){var e;return this.canvas=document.getElementById("game"),this.canvas.addEventListener("webglcontextlost",(function(){return console.log("LOST CONTEXT!")})),this.canvas.addEventListener("webglcontextrestored",(function(){return console.log("RESTORED CONTEXT!")})),this.gl=e=this.canvas.getContext("webgl",{alpha:!0,antialias:!1,powerPreference:"high-performance"}),e||console.log("no gl! uh oh!"),this.uniformSetters={[e.FLOAT]:(t,i)=>e.uniform1f(t,i),[e.FLOAT_VEC2]:(t,i)=>e.uniform2f(t,...i),[e.FLOAT_VEC3]:(t,i)=>e.uniform3f(t,...i),[e.FLOAT_VEC4]:(t,i)=>e.uniform4f(t,...i),[e.FLOAT_MAT4]:(t,i)=>e.uniformMatrix4fv(t,!1,...i),[e.SAMPLER_2D]:(t,i)=>e.uniform1i(t,i)},this.basicPosBuffer=e.createBuffer(),this.basicUVBuffer=e.createBuffer(),this.basicColBuffer=e.createBuffer(),this.upscalePosBuffer=e.createBuffer(),this.upscaleUVBuffer=e.createBuffer(),this.bgPosBuffer=e.createBuffer(),this.bgUVBuffer=e.createBuffer(),this.tilePosArray=[],this.tileUVArray=[],this.tileColArray=[],this.tile2PosArray=[],this.tile2UVArray=[],this.tile2ColArray=[],this.mode="velocity",this.modes=["velocity","velocity","curl","vorticity","divergence","pressure"],this.ready=!1,this.time=0,this.start(),this.renderingMode=n.CRT,this.pos={x:0,y:0,z:0},this.add={x:0,y:0,d:0},this.program},activateProgram:function(e){return this.gl.useProgram(e),this.program=e,this.loadedTextureCount=0},toLinearCol:function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},start:function(){var e;return(e=this.gl).clearColor(.5,.5,.5,1),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),a.call(e.getSupportedExtensions(),"OES_texture_float")>=0&&a.call(e.getSupportedExtensions(),"OES_texture_float_linear")>=0?console.log("🖼 Rendering to full float buffer"):a.call(e.getSupportedExtensions(),"OES_texture_half_float")>=0&&a.call(e.getSupportedExtensions(),"OES_texture_half_float_linear")>=0?console.log("🖼 Rendering to half float buffer"):console.log("🖼 Rendering to 8-bit buffer"),this.makeAllPrograms(),this.resize(),this.simulationSize=256,this.velocity=this.setupDoubleFramebuffer(this.simulationSize,this.simulationSize),this.density=this.setupDoubleFramebuffer(this.simulationSize,this.simulationSize),this.curl=this.setupFramebuffer(this.simulationSize,this.simulationSize),this.divergence=this.setupFramebuffer(this.simulationSize,this.simulationSize),this.vorticity=this.setupFramebuffer(this.simulationSize,this.simulationSize),this.pressure=this.setupDoubleFramebuffer(this.simulationSize,this.simulationSize),this.backwardsVelocity=this.setupFramebuffer(this.simulationSize,this.simulationSize),this.error=this.setupFramebuffer(this.simulationSize,this.simulationSize),this.ready=!0,e.clear(e.COLOR_BUFFER_BIT),this.atlasImage=new Image,this.atlasImage.addEventListener("load",()=>this.setupTexture2(this.atlasImage)),this.atlasImage.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAEAIAAACDgONyAAAFTmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjU2IgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjU2IgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHRpZmY6SW1hZ2VMZW5ndGg9IjI1NiIKICAgdGlmZjpJbWFnZVdpZHRoPSIyNTYiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLjAiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLjAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIw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",this.borderyload=new Image,this.borderyload.addEventListener("load",()=>this.setupTexture3(this.borderyload)),this.borderyload.src="data:image/png;base64,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"},update:function(){return this.time+=1/60,this.drawInternalStuff()},shake:function(){return this.shakeFrames=5},makeAllPrograms:function(){var e;return e=this.gl,this.basicProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,r),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_image1;varying vec2 v_texCoord;varying vec4 v_color;float ToLinear1(float c){return(c<=0.04045)?c/12.92:pow((c+0.055)/1.055,2.4);}vec4 ToLinear(vec4 c){return vec4(ToLinear1(c.r),ToLinear1(c.g),ToLinear1(c.b),ToLinear1(c.a));}void main(){gl_FragColor=texture2D(u_image1,v_texCoord);gl_FragColor.rgba=ToLinear(gl_FragColor.rgba);gl_FragColor.rgb+=v_color.rgb*gl_FragColor.a;gl_FragColor.rgb=clamp(gl_FragColor.rgb,0.0,1.0);gl_FragColor.a=v_color.a*gl_FragColor.a;gl_FragColor=(texture2D(u_image1,v_texCoord)-0.5)*2.0;gl_FragColor.a=1.0;}")),this.bilinearSharpProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,t),this.createShader(e,e.FRAGMENT_SHADER,"precision mediump float;uniform highp vec2 u_resolution;uniform sampler2D u_image1;uniform highp vec2 u_inputResolution;varying highp vec2 v_precalc_texel;varying highp vec2 v_precalc_scale;varying highp vec2 v_region_range;varying highp vec2 v_texCoord;float ToSrgb1(float c){return(c<0.0031308?c*12.92:1.055*pow(c,0.41666)-0.055);}vec3 ToSrgb(vec3 c){return vec3(ToSrgb1(c.r),ToSrgb1(c.g),ToSrgb1(c.b));}void main(){vec2 s=fract(v_precalc_texel);vec2 center_dist=s-0.5;vec2 f=(center_dist-clamp(center_dist,-v_region_range,v_region_range))*v_precalc_scale+0.5;vec2 mod_texel=floor(v_precalc_texel)+f;gl_FragColor=texture2D(u_image1,mod_texel/u_inputResolution);gl_FragColor.rgb=ToSrgb(gl_FragColor.rgb);}")),this.crtProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,t),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform highp vec2 u_resolution;uniform sampler2D u_image1;uniform vec2 u_inputResolution;varying highp vec2 v_precalc_texel;varying highp vec2 v_precalc_scale;varying highp vec2 v_region_range;varying highp vec2 v_texCoord;float hardScan=-6.0;float hardPix=-4.0;vec2 warp=vec2(1.0/32.0,1.0/32.0);float maskDark=0.75;float maskLight=1.25;float ToLinear1(float c){return(c<=0.04045)?c/12.92:pow((c+0.055)/1.055,2.4);}vec3 ToLinear(vec3 c){return vec3(ToLinear1(c.r),ToLinear1(c.g),ToLinear1(c.b));}float ToSrgb1(float c){return(c<0.0031308?c*12.92:1.055*pow(c,0.41666)-0.055);}vec3 ToSrgb(vec3 c){return vec3(ToSrgb1(c.r),ToSrgb1(c.g),ToSrgb1(c.b));}vec3 Fetch(vec2 pos,vec2 off){pos=(floor(pos*u_inputResolution+off)+vec2(0.5,0.5))/u_inputResolution;if(max(abs(pos.x-0.5),abs(pos.y-0.5))>0.5)return vec3(0.0,0.0,0.0);return texture2D(u_image1,pos.xy,-16.0).rgb;}vec2 Dist(vec2 pos){pos=pos*u_inputResolution;return-((pos-floor(pos))-vec2(0.5));}float Gaus(float pos,float scale){return exp2(scale*pos*pos);}vec3 Horz3(vec2 pos,float off){vec3 b=Fetch(pos,vec2(-1.0,off));vec3 c=Fetch(pos,vec2(0.0,off));vec3 d=Fetch(pos,vec2(1.0,off));float dst=Dist(pos).x;float scale=hardPix;float wb=Gaus(dst-1.0,scale);float wc=Gaus(dst+0.0,scale);float wd=Gaus(dst+1.0,scale);return(b*wb+c*wc+d*wd)/(wb+wc+wd);}vec3 Horz5(vec2 pos,float off){vec3 a=Fetch(pos,vec2(-2.0,off));vec3 b=Fetch(pos,vec2(-1.0,off));vec3 c=Fetch(pos,vec2(0.0,off));vec3 d=Fetch(pos,vec2(1.0,off));vec3 e=Fetch(pos,vec2(2.0,off));float dst=Dist(pos).x;float scale=hardPix;float wa=Gaus(dst-2.0,scale);float wb=Gaus(dst-1.0,scale);float wc=Gaus(dst+0.0,scale);float wd=Gaus(dst+1.0,scale);float we=Gaus(dst+2.0,scale);return(a*wa+b*wb+c*wc+d*wd+e*we)/(wa+wb+wc+wd+we);}float Scan(vec2 pos,float off){float dst=Dist(pos).y;return Gaus(dst+off,hardScan);}vec3 Tri(vec2 pos){vec3 a=Horz3(pos,-0.95);vec3 b=Horz5(pos,0.0);vec3 c=Horz3(pos,0.95);float wa=Scan(pos,-0.95);float wb=Scan(pos,0.0);float wc=Scan(pos,0.95);return a*wa+b*wb+c*wc;}vec2 Warp(vec2 pos){pos=pos*2.0-1.0;pos*=vec2(1.0+(pos.y*pos.y)*warp.x,1.0+(pos.x*pos.x)*warp.y);return pos*(0.5)+0.5;}vec3 Mask(vec2 pos){pos.x+=pos.y*3.0;vec3 mask=vec3(maskDark,maskDark,maskDark);pos.x=fract(pos.x/6.0);if(pos.x<0.333)mask.r=maskLight;else if(pos.x<0.666)mask.g=maskLight;else mask.b=maskLight;return mask;}float Bar(float pos,float bar){pos-=bar;return pos*pos<4.0?0.0:1.0;}void main(){vec2 texCoord=vec2(v_texCoord.x,1.0-v_texCoord.y);vec2 fragCoord=floor(texCoord.xy*u_resolution.xy);vec2 pos=Warp(fragCoord.xy/u_resolution.xy);gl_FragColor.rgb=Tri(pos)*Mask(fragCoord.xy);gl_FragColor.a=1.0;gl_FragColor.rgb=ToSrgb(gl_FragColor.rgb*1.25);}")),this.visProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,r),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_image1;uniform sampler2D u_borders;uniform vec2 u_addPosition;uniform float u_simSize;varying vec2 v_texCoord;varying vec4 v_color;float ToLinear1(float c){return(c<=0.04045)?c/12.92:pow((c+0.055)/1.055,2.4);}vec4 ToLinear(vec4 c){return vec4(ToLinear1(c.r),ToLinear1(c.g),ToLinear1(c.b),ToLinear1(c.a));}float ToSrgb1(float c){return(c<0.0031308?c*12.92:1.055*pow(c,0.41666)-0.055);}vec3 ToSrgb(vec3 c){return vec3(ToSrgb1(c.r),ToSrgb1(c.g),ToSrgb1(c.b));}float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){float texSize=u_simSize;float texel=1.0/texSize;vec2 pos=v_texCoord;float totalShade=texture2D(u_image1,pos).z;vec2 lightPos=vec2(0.5,0.5);vec2 vector=lightPos-v_texCoord;vec2 dir=vector/length(vector);float stepsize=0.020;float steps=5.0;float densitySample=texture2D(u_image1,pos).z;if(densitySample==0.0){return;}pos+=dir*stepsize*rand(v_texCoord);for(int i=0;i<20;i++){if(length(pos+dir*stepsize-lightPos)<stepsize){break;}pos+=dir*stepsize;totalShade+=texture2D(u_image1,pos).z;}vec3 shadowColourShift=vec3(0.4,0.7,1.0);vec3 shadowDensity=vec3(60.0)*stepsize/(normalize(shadowColourShift)*sqrt(3.0));vec3 shadowterm=exp(-totalShade*shadowDensity);vec3 absorbedlight=vec3(shadowterm*densitySample);vec3 lightEnergy=absorbedlight*90.0/length(vector)*0.1;gl_FragColor.rgb=normalize(vec3(3.0,0.3,0.7))*lightEnergy;gl_FragColor.a=1.0;gl_FragColor.rgb*=1.0;gl_FragColor.rgb=ToSrgb(gl_FragColor.rgb);}")),this.advectProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_velocity;uniform sampler2D u_borders;varying vec2 v_texCoord;uniform float u_time;uniform float u_simSize;uniform float u_direction;uniform vec2 u_addPosition;uniform vec4 u_addValue;void main(){float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;if(borderVal!=0.0){float texSize=u_simSize;float texel=1.0/texSize;vec2 v=texture2D(u_velocity,v_texCoord).xy*texel;gl_FragColor=texture2D(u_velocity,v_texCoord-v*1.0*u_direction);vec2 pos=(v_texCoord*2.0-1.0)*texSize;float dist=length(pos-u_addPosition);float radius=32.0;if(dist<radius){gl_FragColor+=u_addValue*vec4(1.0,1.0,0.3,1.0);}float rad=5.0*texel;float d=length(v_texCoord.xy-vec2(0.5,0.5));if(d<rad){gl_FragColor.rgb=vec3(0.0,0.0,0.0);}rad=5.0*texel;d=length(v_texCoord.xy-vec2(0.5,0.1));if(d<rad){float force=128.0/u_simSize;gl_FragColor.x+=sin(u_time*u_time)*force;gl_FragColor.y+=cos(u_time)*force;gl_FragColor.z+=0.01;}gl_FragColor.z=clamp(gl_FragColor.z,0.0,1.0);gl_FragColor.xyz*=borderVal;}}")),this.diffuseProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_image1;uniform sampler2D u_borders;uniform float u_simSize;varying vec2 v_texCoord;void main(){float texSize=u_simSize;float texel=1.0/texSize;vec4 sample=texture2D(u_image1,v_texCoord);float vScale=0.0001;vec4 n=texture2D(u_image1,v_texCoord+vec2(0,+texel));vec4 s=texture2D(u_image1,v_texCoord+vec2(0,-texel));vec4 e=texture2D(u_image1,v_texCoord+vec2(+texel,0));vec4 w=texture2D(u_image1,v_texCoord+vec2(-texel,0));vec4 bn=texture2D(u_borders,v_texCoord+vec2(0,+texel));vec4 bw=texture2D(u_borders,v_texCoord+vec2(-texel,0));vec4 bs=texture2D(u_borders,v_texCoord+vec2(0,-texel));vec4 be=texture2D(u_borders,v_texCoord+vec2(+texel,0));float total=bn.r+bw.r+bs.r+be.r;gl_FragColor=(sample+n+s+e+w+sample*(4.0-total))/5.0;float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;gl_FragColor.xyz*=borderVal;}")),this.divergenceProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_velocity;uniform sampler2D u_borders;varying vec2 v_texCoord;uniform float u_simSize;void main(){float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;if(borderVal==1.0){float texSize=u_simSize;float texel=1.0/texSize;float n=texture2D(u_velocity,v_texCoord+vec2(0,+texel)).y;float e=texture2D(u_velocity,v_texCoord+vec2(+texel,0)).x;float s=texture2D(u_velocity,v_texCoord+vec2(0,-texel)).y;float w=texture2D(u_velocity,v_texCoord+vec2(-texel,0)).x;float divergence=0.5*(w-e+s-n);gl_FragColor=vec4(divergence,divergence,divergence,1.0);gl_FragColor.rgb*=borderVal;}}")),this.jacobiProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_divergence;uniform sampler2D u_pressure;uniform sampler2D u_borders;varying vec2 v_texCoord;uniform float u_simSize;void main(){float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;if(borderVal==1.0){float texSize=u_simSize;float texel=1.0/texSize;vec4 sample=texture2D(u_pressure,v_texCoord);vec4 n=texture2D(u_pressure,v_texCoord+vec2(0,+texel));vec4 w=texture2D(u_pressure,v_texCoord+vec2(-texel,0));vec4 s=texture2D(u_pressure,v_texCoord+vec2(0,-texel));vec4 e=texture2D(u_pressure,v_texCoord+vec2(+texel,0));vec4 bn=texture2D(u_borders,v_texCoord+vec2(0,+texel));vec4 bw=texture2D(u_borders,v_texCoord+vec2(-texel,0));vec4 bs=texture2D(u_borders,v_texCoord+vec2(0,-texel));vec4 be=texture2D(u_borders,v_texCoord+vec2(+texel,0));float total=4.0-(bn.r+bw.r+bs.r+be.r);float newPressure=(w.x+n.x+e.x+s.x+texture2D(u_divergence,v_texCoord).x+sample.x*total)/4.0;gl_FragColor=vec4(newPressure,newPressure,newPressure,1.0);gl_FragColor.rgb*=borderVal;float rad=5.0*texel;float d=length(v_texCoord.xy-vec2(0.5,0.5));if(d<rad){float suck=5.0;gl_FragColor.rgb=vec3(-suck,-suck,-suck);}}}")),this.subtractPressureProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_pressure;uniform sampler2D u_velocity;uniform sampler2D u_borders;varying vec2 v_texCoord;uniform float u_simSize;void main(){float texSize=u_simSize;float texel=1.0/texSize;vec4 velocity=texture2D(u_velocity,v_texCoord);float n=texture2D(u_pressure,v_texCoord+vec2(0,+texel)).y;float e=texture2D(u_pressure,v_texCoord+vec2(+texel,0)).x;float s=texture2D(u_pressure,v_texCoord+vec2(0,-texel)).y;float w=texture2D(u_pressure,v_texCoord+vec2(-texel,0)).x;vec2 v=vec2(w-e,s-n);velocity.xy+=v;gl_FragColor=velocity;float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;gl_FragColor.xy*=borderVal;}")),this.curlProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_velocity;uniform sampler2D u_borders;uniform float u_simSize;varying vec2 v_texCoord;void main(){float texSize=u_simSize;float texel=1.0/texSize;vec4 sample=texture2D(u_velocity,v_texCoord);float n=texture2D(u_velocity,v_texCoord+vec2(0,+texel)).y;float e=texture2D(u_velocity,v_texCoord+vec2(+texel,0)).x;float s=texture2D(u_velocity,v_texCoord+vec2(0,-texel)).y;float w=texture2D(u_velocity,v_texCoord+vec2(-texel,0)).x;float curl=w-e+n-s;curl*=0.5;gl_FragColor=vec4(curl,curl,curl,1.0)*1.0;float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;}")),this.vorticityProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_velocity;uniform sampler2D u_curl;uniform sampler2D u_borders;uniform float u_simSize;varying vec2 v_texCoord;void main(){float texSize=u_simSize;float texel=1.0/texSize;vec4 vel=texture2D(u_velocity,v_texCoord);float c=abs(texture2D(u_curl,v_texCoord).r);float s=abs(texture2D(u_curl,v_texCoord+vec2(0.0,-texel)).r);float w=abs(texture2D(u_curl,v_texCoord+vec2(-texel,0.0)).r);float n=abs(texture2D(u_curl,v_texCoord+vec2(0.0,+texel)).r);float e=abs(texture2D(u_curl,v_texCoord+vec2(+texel,0.0)).r);vec2 force=0.5*vec2(abs(n)-abs(s),abs(e)-abs(w));force/=length(force)+0.0001;force*=0.3*c;force.y*=-1.0;gl_FragColor=vec4(force.x,force.y,0.0,0.0);float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;}")),this.vorticityConfinementProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_velocity;uniform sampler2D u_vorticity;uniform sampler2D u_borders;uniform float u_simSize;varying vec2 v_texCoord;void main(){float borderVal=texture2D(u_borders,v_texCoord+vec2(0.0,0.0)).r;if(borderVal==1.0){float texSize=u_simSize;float texel=1.0/texSize;vec4 vel=texture2D(u_velocity,v_texCoord);vel.x-=texture2D(u_vorticity,v_texCoord).x*1.0;vel.y-=texture2D(u_vorticity,v_texCoord).y*1.0;gl_FragColor=vel;gl_FragColor.xy*=borderVal;}}")),this.calculateErrorProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_velocity_backwards;uniform sampler2D u_velocity_forwards;varying vec2 v_texCoord;void main(){gl_FragColor=(texture2D(u_velocity_backwards,v_texCoord)-texture2D(u_velocity_forwards,v_texCoord))/2.0;}")),this.addProgram=this.createProgram(e,this.createShader(e,e.VERTEX_SHADER,i),this.createShader(e,e.FRAGMENT_SHADER,"precision highp float;uniform sampler2D u_texture1;uniform sampler2D u_texture2;varying vec2 v_texCoord;void main(){gl_FragColor=(texture2D(u_texture1,v_texCoord)+texture2D(u_texture2,v_texCoord));}")),e.bindBuffer(e.ARRAY_BUFFER,this.upscalePosBuffer),e.vertexAttribPointer(this.bilinearSharpProgram.attributes.a_position.location,2,e.FLOAT,!1,0,0),e.vertexAttribPointer(this.crtProgram.attributes.a_position.location,2,e.FLOAT,!1,0,0),this.upscalePosArray=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,1,1,-1]),e.bufferData(e.ARRAY_BUFFER,this.upscalePosArray,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.upscaleUVBuffer),e.vertexAttribPointer(this.bilinearSharpProgram.attributes.a_texCoord.location,2,e.FLOAT,!1,0,0),e.vertexAttribPointer(this.crtProgram.attributes.a_texCoord.location,2,e.FLOAT,!1,0,0),this.upscaleUVArray=new Float32Array([0,0,1,0,0,1,0,1,1,1,1,0]),e.bufferData(e.ARRAY_BUFFER,this.upscaleUVArray,e.STATIC_DRAW)},setupTexture:function(e){var t;return t=this.gl,this.imageTexture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.imageTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)},setupTexture2:function(e){var t;return t=this.gl,this.imageTexture2=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.imageTexture2),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)},setupTexture3:function(e){var t;return t=this.gl,this.borderstexture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.borderstexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)},setupDoubleFramebuffer:function(e,t){var i;return(i={width:e,height:t,buffer0:this.setupFramebuffer(e,t),buffer1:this.setupFramebuffer(e,t),front:null,back:null,swap:function(){return this.front===this.buffer0?(this.front=this.buffer1,this.back=this.buffer0):(this.front=this.buffer0,this.back=this.buffer1)}}).front=i.buffer0,i.back=i.buffer1,i},setupFramebuffer:function(e,t){var i,r,o,s,n;return s={},n=this.gl,s.width=e,s.height=t,s.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,s.texture),o=n.UNSIGNED_BYTE,a.call(n.getSupportedExtensions(),"OES_texture_float")>=0&&a.call(n.getSupportedExtensions(),"OES_texture_float_linear")>=0?(n.getExtension("OES_texture_float"),n.getExtension("EXT_color_buffer_float"),n.getExtension("OES_texture_float_linear"),o=n.FLOAT):a.call(n.getSupportedExtensions(),"OES_texture_half_float")>=0&&a.call(n.getSupportedExtensions(),"OES_texture_half_float_linear")>=0&&(r=n.getExtension("OES_texture_half_float"),n.getExtension("EXT_color_buffer_half_float"),n.getExtension("OES_texture_half_float_linear"),o=r.HALF_FLOAT_OES),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,s.width,s.height,0,n.RGBA,o,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),s.fbo=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,s.fbo),i=n.COLOR_ATTACHMENT0,n.framebufferTexture2D(n.FRAMEBUFFER,i,n.TEXTURE_2D,s.texture,0),s.id=Math.random(),s},loadTexture:function(e,t){return this.gl.activeTexture(this.gl.TEXTURE0+this.loadedTextureCount),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.setUniform(this.program,e,this.loadedTextureCount),this.loadedTextureCount++},setupUnitSquare:function(){var e;return(e=this.gl).bindBuffer(e.ARRAY_BUFFER,this.basicPosBuffer),e.vertexAttribPointer(this.basicProgram.attributes.a_position.location,2,e.FLOAT,!1,0,0),1,this.vertArray=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,1,1,-1]),e.bufferData(e.ARRAY_BUFFER,this.vertArray,e.STREAM_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.basicUVBuffer),e.vertexAttribPointer(this.basicProgram.attributes.a_texCoord.location,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,this.upscaleUVArray,e.STREAM_DRAW)},drawInternalStuff:function(){var e,t,i;for(e=this.gl,this.activateProgram(this.advectProgram),this.velocity.swap(),this.loadTexture("u_velocity",this.velocity.back.texture),this.loadTexture("u_borders",this.borderstexture),this.setUniform(this.program,"u_direction",1),this.setUniform(this.program,"u_time",this.time),this.setUniform(this.program,"u_simSize",this.simulationSize),s.isOnMobile?this.setUniform(this.program,"u_addPosition",2*this.pos.x,2*this.pos.y,this.pos.z):this.setUniform(this.program,"u_addPosition",this.pos.x,this.pos.y,this.pos.z),this.setUniform(this.program,"u_addValue",this.add.x,this.add.y,this.add.d,0),this.add.x=this.add.y=0,this.setupUnitSquare(),e.bindFramebuffer(e.FRAMEBUFFER,this.velocity.front.fbo),e.viewport(0,0,this.velocity.width,this.velocity.height),e.drawArrays(e.TRIANGLES,0,6),this.activateProgram(this.curlProgram),this.loadTexture("u_velocity",this.velocity.front.texture),this.loadTexture("u_borders",this.borderstexture),this.setUniform(this.program,"u_time",this.time),this.setUniform(this.program,"u_simSize",this.simulationSize),this.setUniform(this.program,"u_resolution",this.canvas.width,this.canvas.height),this.setupUnitSquare(),e.bindFramebuffer(e.FRAMEBUFFER,this.curl.fbo),e.viewport(0,0,this.velocity.width,this.velocity.height),e.drawArrays(e.TRIANGLES,0,6),this.activateProgram(this.vorticityProgram),this.loadTexture("u_velocity",this.velocity.front.texture),this.loadTexture("u_curl",this.curl.texture),this.loadTexture("u_borders",this.borderstexture),this.setUniform(this.vorticityProgram,"u_time",this.time),this.setUniform(this.program,"u_simSize",this.simulationSize),this.setUniform(this.vorticityProgram,"u_resolution",this.canvas.width,this.canvas.height),this.setupUnitSquare(),e.bindFramebuffer(e.FRAMEBUFFER,this.vorticity.fbo),e.viewport(0,0,this.vorticity.width,this.vorticity.height),e.drawArrays(e.TRIANGLES,0,6),this.activateProgram(this.vorticityConfinementProgram),this.velocity.swap(),this.loadTexture("u_velocity",this.velocity.back.texture),this.loadTexture("u_vorticity",this.vorticity.texture),this.loadTexture("u_borders",this.borderstexture),this.setUniform(this.program,"u_simSize",this.simulationSize),this.setUniform(this.vorticityConfinementProgram,"u_time",this.time),this.setUniform(this.vorticityConfinementProgram,"u_resolution",this.canvas.width,this.canvas.height),this.setupUnitSquare(),e.bindFramebuffer(e.FRAMEBUFFER,this.velocity.front.fbo),e.viewport(0,0,this.velocity.width,this.velocity.height),e.drawArrays(e.TRIANGLES,0,this.upscalePosArray.length/2),this.activateProgram(this.divergenceProgram),this.loadTexture("u_velocity",this.velocity.front.texture),this.loadTexture("u_borders",this.borderstexture),this.setUniform(this.program,"u_simSize",this.simulationSize),this.setUniform(this.divergenceProgram,"u_resolution",this.canvas.width,this.canvas.height),this.setupUnitSquare(),e.bindFramebuffer(e.FRAMEBUFFER,this.divergence.fbo),e.viewport(0,0,this.divergence.width,this.divergence.height),e.drawArrays(e.TRIANGLES,0,6),this.activateProgram(this.jacobiProgram),e.clearColor(0,0,0,1),e.bindFramebuffer(e.FRAMEBUFFER,this.pressure.front.fbo),e.clear(e.COLOR_BUFFER_BIT),e.bindFramebuffer(e.FRAMEBUFFER,this.pressure.back.fbo),e.clear(e.COLOR_BUFFER_BIT),this.setUniform(this.program,"u_simSize",this.simulationSize),this.setUniform(this.jacobiProgram,"u_resolution",this.canvas.width,this.canvas.height),this.setupUnitSquare(),e.viewport(0,0,this.pressure.width,this.pressure.height),t=0;t<=60;++t)this.pressure.swap(),this.loadedTextureCount=0,this.loadTexture("u_divergence",this.divergence.texture),this.loadTexture("u_pressure",this.pressure.back.texture),this.loadTexture("u_borders",this.borderstexture),e.bindFramebuffer(e.FRAMEBUFFER,this.pressure.front.fbo),e.drawArrays(e.TRIANGLES,0,6);return this.activateProgram(this.subtractPressureProgram),this.velocity.swap(),this.loadTexture("u_pressure",this.pressure.front.texture),this.loadTexture("u_velocity",this.velocity.back.texture),this.loadTexture("u_borders",this.borderstexture),this.setUniform(this.program,"u_simSize",this.simulationSize),this.setUniform(this.subtractPressureProgram,"u_resolution",this.canvas.width,this.canvas.height),this.setupUnitSquare(),e.viewport(0,0,this.velocity.width,this.velocity.height),e.bindFramebuffer(e.FRAMEBUFFER,this.velocity.front.fbo),e.drawArrays(e.TRIANGLES,0,6),this.activateProgram(this.visProgram),"velocity"===this.mode&&this.loadTexture("u_image1",this.velocity.front.texture),"pressure"===this.mode&&this.loadTexture("u_image1",this.pressure.front.texture),"divergence"===this.mode&&this.loadTexture("u_image1",this.divergence.texture),"curl"===this.mode&&this.loadTexture("u_image1",this.curl.texture),"vorticity"===this.mode&&this.loadTexture("u_image1",this.vorticity.texture),this.loadTexture("u_borders",this.borderstexture),e.bindBuffer(e.ARRAY_BUFFER,this.basicPosBuffer),e.vertexAttribPointer(this.basicProgram.attributes.a_position.location,2,e.FLOAT,!1,0,0),i=256,s.isOnMobile&&(i=128),this.vertArray=new Float32Array([-i,-i,+i,-i,-i,+i,-i,+i,+i,+i,+i,-i]),e.bufferData(e.ARRAY_BUFFER,this.vertArray,e.STREAM_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.basicUVBuffer),e.vertexAttribPointer(this.basicProgram.attributes.a_texCoord.location,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,this.upscaleUVArray,e.STREAM_DRAW),this.setUniform(this.program,"u_simSize",this.simulationSize),this.setUniform(this.visProgram,"u_resolution",this.canvas.width,this.canvas.height),this.setUniform(this.program,"u_addPosition",this.pos.x,this.pos.y),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,this.canvas.width,this.canvas.height),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLES,0,this.upscalePosArray.length/2)},stampTextureToFramebuffer:function(e,t){var i;return(i=this.gl).useProgram(this.basicProgram),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e),i.bindBuffer(i.ARRAY_BUFFER,this.basicPosBuffer),i.vertexAttribPointer(this.basicProgram.attributes.a_position.location,2,i.FLOAT,!1,0,0),128,this.vertArray=new Float32Array([-128,-128,128,-128,-128,128,-128,128,128,128,128,-128]),i.bufferData(i.ARRAY_BUFFER,this.vertArray,i.STREAM_DRAW),i.bindBuffer(i.ARRAY_BUFFER,this.basicUVBuffer),i.vertexAttribPointer(this.basicProgram.attributes.a_texCoord.location,2,i.FLOAT,!1,0,0),this.arr=new Float32Array([0,1,1,1,0,0,0,0,1,0,1,1]),i.bufferData(i.ARRAY_BUFFER,this.arr,i.STREAM_DRAW),this.setUniform(this.basicProgram,"u_resolution",t.width,t.height),i.bindFramebuffer(i.FRAMEBUFFER,t.fbo),i.viewport(0,0,t.width,t.height),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLES,0,6)},setUniform:function(e,t,...i){var r;if(r=e.uniforms[t])return this.uniformSetters[r.type](r.location,i)},resizeToFit:function(e,t,i=null,r=null){var o,a,n,h,u,c;return n=this.canvas.clientWidth*window.devicePixelRatio,a=this.canvas.clientHeight*window.devicePixelRatio,i||(i=n),r||(r=a),s.isInStandaloneMode&&(n=screen.width*realToCSSPixels,a=screen.height*realToCSSPixels,this.canvas.style.width=`${screen.width}px`,this.canvas.style.height=`${screen.height}px`),u=h=1,(c=e/t)>(o=n/a)?(u=e,(h=t/o*c)>r&&(u*=r/h,h*=r/h)):(h=t,(u=e*o/c)>i&&(h*=i/u,u*=i/u)),(u=Math.round(u))%2==1&&u++,(h=Math.round(h))%2==1&&h++,s.internalResolution.x=u,s.internalResolution.y=h,this.resizeFramebuffer(u,h)},resizeCanvas:function(e,t){var i;return i=this.gl,this.displayWidth=e,this.displayHeight=t,i.canvas.width===this.displayWidth&&i.canvas.height===this.displayHeight||(i.canvas.width=this.displayWidth,i.canvas.height=this.displayHeight),i.viewport(0,0,e,t),i.useProgram(this.bilinearSharpProgram),i.uniform2f(this.bilinearSharpProgram.uniforms.u_resolution.location,e,t)},resizeFramebuffer:function(e,t){return console.log(`🖼 Resizing buffer to ${e}×${t}`),this.setupFramebuffer(e,t)},resize:function(){var e,t,i,r;return e=this.gl,i=window.devicePixelRatio,r=Math.floor(e.canvas.clientWidth*i),t=Math.floor(e.canvas.clientHeight*i),this.resizeCanvas(r,t)},createShader:function(e,t,i){var r;if(r=e.createShader(t),e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;throw new Error("Shader creation failed")},createProgram:function(e,t,i){var r,o,s,a,n,h,u,c,l;if(h=e.createProgram(),e.attachShader(h,t),e.attachShader(h,i),e.linkProgram(h),e.getProgramParameter(h,e.LINK_STATUS)){for(h.attributes={},h.uniforms={},o=s=0,u=e.getProgramParameter(h,e.ACTIVE_ATTRIBUTES);0<=u?s<u:s>u;o=0<=u?++s:--s)r=e.getActiveAttrib(h,o),n=e.getAttribLocation(h,r.name),e.enableVertexAttribArray(n),h.attributes[r.name]={location:n,type:r.type,size:r.size};for(o=a=0,c=e.getProgramParameter(h,e.ACTIVE_UNIFORMS);0<=c?a<c:a>c;o=0<=c?++a:--a)l=e.getActiveUniform(h,o),n=e.getUniformLocation(h,l.name),h.uniforms[l.name]={location:n,type:l.type,size:l.size};return h}throw new Error("Program creation failed")}};n.init(),Math.clamp=function(e,t,i){return Math.max(Math.min(e,i),t)},Math.lerp=function(e,t,i){return e*(1-i)+t*i},Math.damp=function(e,t,i,r){return Math.lerp(e,t,1-Math.exp(-i*r))},Math.exp=function(e){return Math.pow(Math.E,e)},Math.asymptote=function(e,t){return t*e/(Math.abs(e)+t)},Math.randomInt=function(e,t){return e+Math.floor(Math.random()*(t+1-e))},Math.randomRange=function(e,t){return e+Math.random()*(t-e)};var h={keyspressed:{},keysjustpressed:{},isTouching:!1,touchPoint:{x:0,y:0},worldTouchPoint:{x:0,y:0},activeObject:null,activeMag:0,touch:{initialPosition:{x:0,y:0},position:{x:0,y:0},lastPosition:{x:0,y:0},velocity:{x:0,y:0},delta:{x:0,y:0},absoluteDelta:{x:0,y:0},timestamp:0,state:0,active:!1,justStarted:!1,justEnded:!1,absoluteMagnitude:0,largestAbsoluteMagnitude:0,framesSincePress:0,START:0,STATIONARY:1,MOVING:2,END:3,CANCELLED:4,update:function(){if(this.absoluteDelta.x=this.position.x-this.initialPosition.x,this.absoluteDelta.y=this.position.y-this.initialPosition.y,this.absoluteMagnitude=Math.sqrt(this.absoluteDelta.x*this.absoluteDelta.x+this.absoluteDelta.y*this.absoluteDelta.y),this.largestAbsoluteMagnitude=Math.max(this.largestAbsoluteMagnitude,this.absoluteMagnitude),this.delta.x=this.position.x-this.lastPosition.x,this.delta.y=this.position.y-this.lastPosition.y,!this.justEnded)return this.velocity.x=this.delta.x,this.velocity.y=this.delta.y},clear:function(){return this.framesSincePress++,this.lastPosition=this.position,this.justStarted=!1,this.justEnded=!1}},isButtonDown:function(e){var t,i,r,o,s,a,n,h,u,c,l,d,g,m,v,f;for(t=0,i=(o=navigator.getGamepads()).length;t<i;t++){if(r=o[t],"up"===e&&(null!=r&&null!=(s=r.buttons)&&null!=(a=s[14])?a.pressed:void 0))return!0;if("down"===e&&(null!=r&&null!=(u=r.buttons)&&null!=(c=u[15])?c.pressed:void 0))return!0;if("left"===e&&(null!=r&&null!=(l=r.buttons)&&null!=(d=l[16])?d.pressed:void 0))return!0;if("right"===e&&(null!=r&&null!=(g=r.buttons)&&null!=(m=g[17])?m.pressed:void 0))return!0;if("a"===e&&(null!=r&&null!=(v=r.buttons)&&null!=(f=v[1])?f.pressed:void 0))return!0;if("b"===e&&(null!=r&&null!=(n=r.buttons)&&null!=(h=n[0])?h.pressed:void 0))return!0}return!1}};window.addEventListener("gamepadconnected",e=>h.gamepad=navigator.getGamepads()[e.gamepad.index]);var u,c,l={start:function(){var e;return(e=document.getElementById("game")).addEventListener("touchstart",t=>(n.pos.x=t.changedTouches[0].pageX-e.width/2,n.pos.y=-(t.changedTouches[0].pageY-e.height/2),n.add.d=.2)),e.addEventListener("touchend",e=>n.add.d=0),e.addEventListener("touchmove",t=>{var i,r;return n.pos.x=t.changedTouches[0].pageX-e.width/2,n.pos.y=-(t.changedTouches[0].pageY-e.height/2),this.lastPos||(this.lastPos={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}),i=t.changedTouches[0].pageX-this.lastPos.x,r=t.changedTouches[0].pageY-this.lastPos.y,0!==i&&(n.add.x=i/1),0!==r&&(n.add.y=-r/1),this.lastPos.x=t.changedTouches[0].pageX,this.lastPos.y=t.changedTouches[0].pageY}),e.addEventListener("mousedown",e=>n.add.d=.2),e.addEventListener("mouseup",e=>n.add.d=0),e.addEventListener("mousemove",t=>{var i,r;return n.pos.x=t.x-e.width/2,n.pos.y=-(t.y-e.height/2),this.lastPos||(this.lastPos={x:t.x,y:t.y}),i=t.x-this.lastPos.x,r=t.y-this.lastPos.y,0!==i&&(n.add.x=i/1),0!==r&&(n.add.y=-r/1),this.lastPos.x=t.x,this.lastPos.y=t.y})},update:function(){if(h.keyspressed[0]&&(n.mode=n.modes[0]),h.keyspressed[1]&&(n.mode=n.modes[1]),h.keyspressed[2]&&(n.mode=n.modes[2]),h.keyspressed[3]&&(n.mode=n.modes[3]),h.keyspressed[4]&&(n.mode=n.modes[4]),h.keyspressed[5]&&(n.mode=n.modes[5]),h.keyspressed[6]&&(n.mode=n.modes[6]),h.keyspressed[7])return n.mode=n.modes[7]},draw:function(){}};l.start();var d={context:null,audioCache:null,enabled:!1,cachedBlip:null,decodedBlip:null,fileBuffers:{},enableAudio:function(){return console.log("🎵 Attempting to enable audio"),this.context.resume().then(()=>{var e,t,i,r,o,s;if(this.volume=this.context.createGain(),this.compressor=this.context.createDynamicsCompressor(),this.compressor.connect(this.context.destination),this.compressor.threshold.setValueAtTime(-10,this.context.currentTime),this.compressor.knee.setValueAtTime(5,this.context.currentTime),this.compressor.ratio.setValueAtTime(5,this.context.currentTime),this.compressor.attack.setValueAtTime(0,this.context.currentTime),this.compressor.release.setValueAtTime(.25,this.context.currentTime),this.volume.connect(this.compressor),this.volume.gain.exponentialRampToValueAtTime(1,this.context.currentTime+10),console.log("🎵 Audio enabled"),this.startAudio(),this.startAmbientAudio(),(e=document.getElementById("game")).removeEventListener("touchstart",this.audioEnableFunc),e.removeEventListener("mousedown",this.audioEnableFunc),e.removeEventListener("keydown",this.audioEnableFunc),this.audioEnableFunc=null,this.stackedSounds){for(o=[],t=0,i=(r=this.stackedSounds).length;t<i;t++)s=r[t],o.push(this.makeSource(s,1).start());return o}})},makeSource:function(e,t=1,i=!1){var r,o;return(r=this.context.createBufferSource()).buffer=e,1===t?r.connect(this.volume):((o=this.context.createGain()).connect(this.volume),o.gain.value=t,i&&(o.gain.value=0,o.gain.setTargetAtTime(t,this.context.currentTime,1)),r.connect(o)),r},setMotion:function(e,t=0){if(this.volume)return e=Math.pow(e,2)/30,this.moveNoiseGain.gain.setTargetAtTime(Math.clamp(e/25,0,10),this.context.currentTime,.016),this.moveNoiseLowPass.frequency.value=375+4*e,this.moveNoiseLowPass.Q.value=e/4},playSoundEffect:function(e){var t,i;return t=this.makeSource(e),i=this.context.currentTime,t.start(i)},pressNote:function(e){var t,i;if(d.volume)return this.lowpass.Q.value=5,t=(i=[65.41,73.42,77.78,98])[Math.randomInt(0,i.length-1)],this.note.frequency.value=2*t,this.note2.frequency.value=2*t,this.note.detune.value=e,this.noteGain.gain.setTargetAtTime(.5,this.context.currentTime,this.noteAttack),this.noteGain.gain.setTargetAtTime(.025,this.context.currentTime+this.noteAttack,this.noteDecay),.0015,17e3,5e3,.09,this.lowpass.frequency.setTargetAtTime(22e3,this.context.currentTime,.0015),this.lowpass.frequency.setTargetAtTime(17e3,this.context.currentTime+.0015,.09)},setTune:function(e){if(d.volume)return this.lowpass.Q.value=5+e},releaseNote:function(){if(d.volume)return this.noteGain.gain.setTargetAtTime(0,this.context.currentTime,this.noteRelease)},fireNoise:function(){return.001,200,8e3,.04,this.lowpass.frequency.setTargetAtTime(8200,this.context.currentTime,.001),this.lowpass.frequency.setTargetAtTime(200,this.context.currentTime+.001,.04),.001,.05,this.noiseGain.gain.setTargetAtTime(.5,this.context.currentTime,.001),this.noiseGain.gain.setTargetAtTime(0,this.context.currentTime+this.noteAttack,.05)},createNoise:function(){var e,t,i,r,o,s,a;for(e=2*this.context.sampleRate,s=(o=this.context.createBuffer(1,e,this.context.sampleRate)).getChannelData(0),t=i=0,a=e;0<=a?i<a:i>a;t=0<=a?++i:--i)s[t]=2*Math.random()-1;return(r=this.context.createBufferSource()).buffer=o,r.loop=!0,r},createPinkNoise:function(){var e,t,i,r,o,s,a,n,h,u,c,l,d,g,m;for(n=2*this.context.sampleRate,d=(l=this.context.createBuffer(1,n,this.context.sampleRate)).getChannelData(0),e=t=i=r=o=s=a=0,h=u=0,g=n;0<=g?u<g:u>g;h=0<=g?++u:--u)e=.99886*e+.0555179*(m=2*Math.random()-1),t=.99332*t+.0750759*m,i=.969*i+.153852*m,r=.8665*r+.3104856*m,o=.55*o+.5329522*m,s=-.7616*s-.016898*m,d[h]=e+t+i+r+o+s+a+.5362*m,d[h]*=.11,a=.115926*m;return(c=this.context.createBufferSource()).buffer=l,c.loop=!0,c},createBrownNoise:function(){var e,t,i,r,o,s,a,n,h;for(e=2*this.context.sampleRate,a=(s=this.context.createBuffer(1,e,this.context.sampleRate)).getChannelData(0),r=0,t=i=0,n=e;0<=n?i<n:i>n;t=0<=n?++i:--i)h=2*Math.random()-1,a[t]=(r+.02*h)/1.02,r=a[t],a[t]*=3.5;return(o=this.context.createBufferSource()).buffer=s,o.loop=!0,o},makeRingMod:function(){var e;return(e={}).ringOsci=this.context.createOscillator(),e.ringOsci.frequency.value=500,e.ringOsci.type="sine",e.lfo=this.context.createOscillator(),e.lfo.frequency.value=5,e.lfo.type="sine",e.lfo.start(),e.lfoGain=this.context.createGain(),e.lfoGain.gain.value=30,e.lfo.connect(e.lfoGain),e.lfoGain.connect(e.ringOsci.frequency),e.wetGain=this.context.createGain(),e.dryGain=this.context.createGain(),e.wetGain.gain.value=0,e.dryGain.gain.value=1,e.ringGain=this.context.createGain(),e.ringGain.gain.value=0,e.ringOsci.connect(e.ringGain.gain),e.in=this.context.createGain(),e.out=this.context.createGain(),e.in.connect(e.wetGain),e.wetGain.connect(e.ringGain),e.ringGain.connect(e.out),e.in.connect(e.dryGain),e.dryGain.connect(e.out),e.ringOsci.start(),e},testSound:function(e=1){var t,i;if(d.talkBuffer&&d.volume)return i=d.context.currentTime,(t=d.makeSource(d.talkBuffer,.07)).playbackRate.value=e,t.start(i)},startAudio:function(){console.warn("🎵 skipping audio start")},startAmbientAudio:function(){console.warn("🎵 skipping ambience start")},getMusicTime:function(){var e;return this.context?(e=this.context.currentTime-this.musicStartTime,this.musicStartPoint&&(e+=this.musicStartPoint),this.musicSource&&(e%=this.musicSource.buffer.duration),e):0},playMusic:function(e){var t;return this.musicSource&&!this.musicSource.ended&&(this.musicSource.stop(),this.musicSource=null),t=this.context.currentTime,this.musicSource=this.makeSource(this.fileBuffers[e],1),this.musicSource.start(t)},stopMusic:function(){if(!this.stop)return this.stop=!0,this.volume.gain.setValueAtTime(1,this.context.currentTime),this.volume.gain.exponentialRampToValueAtTime(1e-6,this.context.currentTime+3)},click:function(){var e;if(this.clickBuffer&&this.volume)return e=this.context.currentTime,this.makeSource(this.clickBuffer,1).start(e)},sizzle:function(){var e;if(this.clickBuffer&&this.volume)return e=this.context.currentTime,this.makeSource(this.sizzleBuffer,1).start(e)},stepSound:function(e){var t,i;if(this.stepBuffer&&this.volume)return i=this.context.currentTime,(t=this.makeSource(this.stepBuffer,.2+e/3)).playbackRate.value=Math.randomRange(1.2,1.3),t.start(i),(t=this.makeSource(this.stepBuffer,.5*(.2+e/3)+e/10)).playbackRate.value=Math.randomRange(1.2,1.3),t.start(i+.25-e/80)},positive:function(){var e;if(this.positiveBuffer&&this.volume)return e=this.context.currentTime,this.makeSource(this.positiveBuffer,.3).start(e)},veryPositive:function(){var e;if(this.veryPositiveBuffer&&this.volume)return e=this.context.currentTime,this.makeSource(this.veryPositiveBuffer,.2).start(e)},pause:function(){if(this.context)return this.context.suspend().catch(e=>console.log("Audio suspend promise failed!!"))},resume:function(){if(this.context)return this.context.resume().catch(e=>console.log("Audio resume promise failed!!"))},getAndCache:function(e){return fetch(`./sounds/${e}`).then(e=>e.arrayBuffer()).then(t=>this.context.decodeAudioData(t,t=>(this.fileBuffers[e]=t,console.log(`🎵 Decoded ${e}`))))},precacheAudio:function(){console.warn("🎵 SKIPPING AUDIO DOWNLOAD")}};u=window.AudioContext||window.webkitAudioContext,d.context=new u,d.precacheAudio(),"running"===d.context.state?d.enableAudio():(d.audioEnableFunc=function(){return d.enableAudio()},(c=document.getElementById("game")).addEventListener("touchstart",d.audioEnableFunc),c.addEventListener("mousedown",d.audioEnableFunc),c.addEventListener("keydown",d.audioEnableFunc));var g={init:function(){return this.signallingServerAddress="wss://easy-coop-signalling.herokuapp.com/",this.receivedPos={x:0,y:0}},createOnlineRoom:function(){return this.ws&&1===this.ws.readyState?this.ws.send(JSON.stringify({type:"requestRoomId",game:s.name})):(this.setupWebsocket(),this.ws.addEventListener("open",e=>this.ws.send(JSON.stringify({type:"requestRoomId",game:s.name}))))},attemptToJoinRoom:function(e){var t;return t=JSON.stringify({type:"attemptToJoin",room:e,game:s.name}),this.ws&&1===this.ws.readyState?this.ws.send(t):(this.setupWebsocket(),this.ws.addEventListener("open",()=>this.ws.send(t)))},setupWebsocket:function(){if(!this.ws||this.ws.readyState===WebSocket.CLOSING||this.ws.readyState===WebSocket.CLOSED)return console.log(`🔗 Opening WebSocket to ${this.signallingServerAddress}`),this.ws=new WebSocket(this.signallingServerAddress),this.ws.addEventListener("open",e=>console.log(`🔗 WebSocket to ${this.signallingServerAddress} opened`)),this.ws.addEventListener("message",e=>{var t;if("error"===(t=JSON.parse(e.data)).type&&(console.log(`🔗 Server returned error: ${t.message}`),alert(t.message)),"roomIdNotification"===t.type&&(this.currentRoom=t.roomId,console.log(`🔗 Received room id: ${this.currentRoom}`)),"initiation"===t.type&&(t.isInitiator?console.log(`🔗 Preparing to set up peer with ${t.partner}`):console.log(`🔗 Preparing to receive peer info from ${t.partner}`),this.setupPeer(t.isInitiator,t.partner)),"signal"===t.type)return"offer"===t.signal.type?console.log("🔗 received offer signal from "+this.p.partner):t.signal.candidate?console.log("🔗 received candidate signal from "+this.p.partner):"answer"===t.signal.type?console.log("🔗 received answer signal from "+this.p.partner):console.log("🔗 received signal from "+this.p.partner),this.p.signal(t.signal)}),this.ws.addEventListener("close",e=>(this.currentRoom=null,console.log(`🔗 WebSocket to ${this.signallingServerAddress} closed`))),this.ws.addEventListener("error",e=>(console.warn("🔗 WebSocket encountered an error"),alert("Could not connect to game server.")))},connect:function(e){var t;return console.log(`Connecting to ${e}`),t=this.peer.connect(e),this.connection=t,this.handleConnection()},disconnectFromSignallingServer:function(){if(this.ws)return this.ws.close()},handleConnection:function(){return this.connection.on("data",e=>{if(e.x)return this.receivedPos=e}),this.connection.on("open",()=>(console.log("Connection Open, Sending message!"),this.connection.send("hello!"),console.log(this.connection.reliable)))},sendPosition:function(e,t){var i;if(this.connected&&this.p.writable)try{this.p.send(new Uint16Array([e,t]))}catch(e){i=e,console.log(i)}if(this.connection)return this.connection.send({x:e,y:t})},sendDisconnectionEvent:function(){return this.p.send(new Uint16Array([0,0])),this.p.send(new Uint8Array([255,255,255])),this.connected=!1},setupPeer:function(e,t){return this.p=new SimplePeer({initiator:e}),this.p.partner=t,this.p.on("signal",e=>{var t;return"offer"===e.type?console.log("🔗 sending offer signal to "+this.p.partner):e.candidate?console.log("🔗 sending candidate signal to "+this.p.partner):"answer"===e.type?console.log("🔗 sending answer signal to "+this.p.partner):console.log("🔗 sending signal to "+this.p.partner),t={type:"signal",destination:this.p.partner,signal:e},this.ws.send(JSON.stringify(t))}),this.p.on("connect",()=>(console.log(`🔗 Successfully opened P2P connection to ${this.p.partner}!`),d.positive(),this.connected=!0,this.ws.close())),this.p.on("close",()=>(console.log(`🔗 Closed P2P connection to ${this.p.partner}`),this.connected=!1)),this.p.on("error",e=>(console.log("🔗 SOMETHING WENT WRONG!"),console.log(e),alert(e))),this.p.on("data",e=>3===e.length?(console.log(`🔗 Received disconnect message from ${this.p.partner}`),this.p.destroy()):(this.receivedPos.x=e.readUInt16LE(0),this.receivedPos.y=e.readUInt16LE(2))),window.addEventListener("beforeunload",()=>{if(console.log("DESTROY THIS PEER!"),this.p&&this.connected)return this.sendDisconnectionEvent()}),window.addEventListener("unload",()=>{if(console.log("DESTROY THIS PEER!"),this.p&&this.connected)return this.sendDisconnectionEvent()})}};g.init();var m,v,f,A,x,p,y,E,b,S,T,w,R,C;({init:function(){return this.x=0,this.y=0,this.target,this.scrollX=0,this.scrollY=0,this.velocity={x:0,y:0},this.snapFollow=!1,this.bounds={minX:0,minY:0,maxX:Infinity,maxY:Infinity},this.gridX=10,this.gridY=10,this.startX=-16,this.startY=-16,this.offsetX=0,this.offsetY=0,this.overrideOffsetX=0,this.overrideOffsetY=0,this.screenWidth=256,this.screenHeight=256,this.smoothMode=!0},follow:function(e){var t,i,r,o,s,a;return this.snapFollow?(this.x=e.x+8,this.y=e.y-4):(a={x:0,y:0},t=16*this.gridX,i=16*this.gridY,r=Math.floor((e.x+this.startX+8)/t),o=Math.floor((e.y+this.startY)/i),a.x=r*t-this.startX+t/2+0,a.y=o*i-this.startY+i/2+0,this.smoothMode?(s=this.SmoothDamp(this.x,this.y,a.x,a.y,this.velocity,1/6),this.x=s.x,this.y=s.y):(a.x<this.x&&(this.x-=8),a.x>this.x&&(this.x+=8),a.y<this.y&&(this.y-=8),a.y>this.y&&(this.y+=8))),this.scrollX=Math.round(this.x+this.offsetX+this.overrideOffsetX),this.scrollY=Math.round(this.y+this.offsetY+this.overrideOffsetY)},enforceBounds:function(){return this.screenWidth=s.internalResolution.x,this.screenHeight=s.internalResolution.y,this.scrollX=Math.clamp(this.scrollX,this.bounds.minX+this.screenWidth/2,this.bounds.maxX-this.screenWidth/2),this.scrollY=Math.clamp(this.scrollY,this.bounds.minY+this.screenHeight/2,this.bounds.maxY-this.screenHeight/2)},pixelToWorldPosition:function(e,t){return{x:e+this.scrollX,y:t+this.scrollY}},snap:function(e){var t,i,r,o,s;return s={x:0,y:0},t=16*this.gridX,i=16*this.gridY,r=Math.floor((e.x+this.startX)/t),o=Math.floor((e.y+this.startY)/i),s.x=r*t-this.startX+t/2,s.y=o*i-this.startY+i/2,this.scrollX=this.x=Math.round(s.x),this.scrollY=this.y=Math.round(s.y)},SmoothDamp:function(e,t,i,r,o,s){var a,n,h,u,c,l,d;return 1/60,h=1/(1+(d=(u=2/(s=Math.max(1e-4,s)))*(1/60))+.48*d*d+.235*d*d*d),i=e-(a=e-i),r=t-(n=t-r),c=(o.x+u*a)*(1/60),l=(o.y+u*n)*(1/60),o.x=(o.x-u*c)*h,o.y=(o.y-u*l)*h,{x:i+(a+c)*h,y:r+(n+l)*h}}}).init(),m=document.getElementById("game"),A=1,x=1,E=0,S=null,y={},v=!1,w=function(){return this.targetUPS=60,E=performance.now(),this.framesAccountedFor=Math.floor(E/(1e3/this.targetUPS)),T(),n.update(),window.addEventListener("resize",()=>(clearTimeout(this.resizeDelay),this.resizeDelay=setTimeout(()=>v=!0,260))),m.focus(),m.addEventListener("keydown",e=>{var t;if(document.webkitFullscreenElement&&e.preventDefault(),!e.metaKey&&!e.ctrlKey&&(h.keysjustpressed[e.key]=!0,!e.repeat))return h.keyspressed[e.key]=!0,70===e.keyCode&&p(),"p"===e.key&&(n.renderingMode=(n.renderingMode+1)%3,n.renderingMode>0?this.fullsize=!0:this.fullsize=!1,2===n.renderingMode?(n.resizeCanvas(256,256),n.resizeFramebuffer(256,256),s.internalResolution.x=256,s.internalResolution.y=256,t=window.devicePixelRatio,m.style.width=`${256/t}px`,m.style.height=`${256/t}px`,m.style.position="absolute",m.style.left="50%",m.style.top="50%",m.style.margin=`-${256/t/2}px 0 0 -${256/t/2}px`,m.style.imageRendering="pixelated"):(m.style.width="",m.style.height="",m.style.position="",m.style.left="",m.style.top="",m.style.margin="",v=!0)),"m"===e.key&&(this.manualPause?(this.manualPause=!1,d.resume()):(this.manualPause=!0,d.pause())),"%"===e.key?l.fullReset():void 0}),m.addEventListener("touchstart",e=>{if(!this.paused)return e.preventDefault()}),m.addEventListener("touchstart",e=>{var t;return(t=s.clientToClipPosition(e.targetTouches[0].clientX,e.targetTouches[0].clientY)).y*=-1,t=s.clipToPixelPosition(t.x,t.y),h.touch.position=t,h.touch.lastPosition=t,h.touch.initialPosition=t,h.touch.state=h.touch.START,h.touch.active=!0,h.touch.justStarted=!0,h.touch.largestAbsoluteMagnitude=0,h.touch.framesSincePress=0}),m.addEventListener("touchmove",e=>{var t;return(t=s.clientToClipPosition(e.changedTouches[0].pageX,e.changedTouches[0].pageY)).y*=-1,t=s.clipToPixelPosition(t.x,t.y),h.touch.position=t,h.touch.state=h.touch.MOVING}),m.addEventListener("touchend",e=>{var t;return(t=s.clientToClipPosition(e.changedTouches[0].pageX,e.changedTouches[0].pageY)).y*=-1,t=s.clipToPixelPosition(t.x,t.y),h.touch.position=t,h.touch.state=h.touch.END,h.touch.active=!1,h.touch.justEnded=!0}),m.addEventListener("touchcancel",e=>{}),m.addEventListener("keyup",e=>h.keyspressed[e.key]=!1),window.addEventListener("blur",()=>h.keyspressed={}),m.addEventListener("touchend",()=>{if(s.isOnMobile)return p({navigationUI:"hide"})}),window.addEventListener("blur",b,!1),window.addEventListener("focus",R,!1),document.hasFocus()||s.isOnMobile||(this.initialpause=setTimeout(b,2e3),window.addEventListener("focus",()=>clearTimeout(this.initialpause,{once:!0}))),S=window.requestAnimationFrame(C.bind(this))},f=new class{constructor(t=0,i=0,r="",o=!1){var s,a,n,h;for(this.x=t,this.y=i,this.text=r,this.maxLettersPerLine=100,this.characters="ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789+-/*=%()!~?&:“”' .,",this.letterWidths="65554455145475555555567554 44444344124174444343457444 55555555556666664417461661 12",this.atlasref=e.earthboundfont,this.letterHeight=16,o&&(this.characters="|!”#$%&'()*+,-./0123456789:;<=>? @ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_ `abcdefghijklmnopqrstuvwxyz{|}~",this.letterWidths="88888888888888888888888888888888 88888888888888888888888888888888 8888888888888888888888888888888",this.atlasref=e["press-start-font"],this.letterHeight=8),this.letterWidths=this.letterWidths.replace(/ /g,""),this.letterWidths=this.letterWidths.split("").map((function(e){return Number(e)})),this.characters=this.characters.replace(/ /g,""),this.charTable={},s=a=0,n=this.characters.length;0<=n?a<n:a>n;s=0<=n?++a:--a)this.charTable[this.characters.charCodeAt(s)]=s;h=0,this.letterStarts=this.letterWidths.map((function(e,t){var i;return i=h,h+=e+1,i})),this.textHeight=0,this.textWidth=0,this.displayText(this.text),this.time=0}displayText(e){var t,i,r;if(this.text=e,this.time=0,this.visible=!0,this.wordwrap(this.maxLettersPerLine),this.letters=[],this.lines=this.text.split(/\r\n|\r|\n/).length,this.textHeight=15*this.lines,this.lettersDisplayed=0,0!==e.length){for(this.finished=!1,t=i=0,r=this.text.length;i<r;t=i+=1)this.letters.push({x:8*t-8*this.text.length/2,y:0,id:this.text.charCodeAt(t),ux:0,uy:0});return this.determineTextWidth()}this.finished=!0}determineTextWidth(){var e,t,i,r,o,s,a;for(s=0,e=0,t=i=0,o=(a=this.letters).length;i<o;t=++i)32!==(r=a[t]).id?10!==r.id?this.letterWidths[this.charTable[r.id]]&&(e+=this.letterWidths[this.charTable[r.id]]+1):(e>s&&(s=e),e=0):e+=3;return e>s&&(s=e),this.textWidth=s}update(){var e,t,i,r,o,s,a;return this.time++,this.lettersDisplayed,this.lettersDisplayed<this.text.length?33===this.letters[Math.floor(this.lettersDisplayed)].id?this.lettersDisplayed+=1/8:44===this.letters[Math.floor(this.lettersDisplayed)].id?this.lettersDisplayed+=.25:46===this.letters[Math.floor(this.lettersDisplayed)].id?this.lettersDisplayed+=1/8:63===this.letters[Math.floor(this.lettersDisplayed)].id?(this.lettersDisplayed%1==0&&d.testSound(2.24),this.lettersDisplayed+=1/8):(this.lettersDisplayed+=1,1===Math.floor(this.lettersDisplayed%4)&&((e=this.negative?[1.5946,1.12246,1.25992,1.41421,1.49831]:[1,1.12246,1.25992,1.33484,1.49831])[Math.floor(Math.random()*e.length)],63===(null!=(t=this.letters[Math.floor(this.lettersDisplayed)+1])?t.id:void 0)&&(Math.random()>.5?1.68179:1.88775),63===(null!=(i=this.letters[Math.floor(this.lettersDisplayed)+2])?i.id:void 0)&&(Math.random()>.5?1.68179:1.88775),63===(null!=(r=this.letters[Math.floor(this.lettersDisplayed)+3])?r.id:void 0)&&(Math.random()>.5?1.68179:1.88775),63===(null!=(o=this.letters[Math.floor(this.lettersDisplayed)+4])?o.id:void 0)&&(Math.random()>.5?1.68179:1.88775),63===(null!=(s=this.letters[Math.floor(this.lettersDisplayed)+5])?s.id:void 0)&&(Math.random()>.5?1.68179:1.88775),63===(null!=(a=this.letters[Math.floor(this.lettersDisplayed)+6])?a.id:void 0))?Math.random()>.5?1.68179:1.88775:void 0):this.finished=!0}finish(){return this.finished=!0,this.lettersDisplayed=this.text.length}draw(e){var t,i,r,o,s,a,n,h;if(this.visible)for(this.time+=1/60,n=0,h=0,t={r:0,g:0,b:0},i=r=0,s=(a=this.letters).length;r<s;i=++r){if(o=a[i],i>=this.lettersDisplayed)return;32!==o.id?10!==o.id?(60===o.id&&(t.r=1,t.g=.5,t.b=0),62===o.id&&(t.r=1,t.g=1,t.b=1),null!==this.charTable[o.id]&&(e.drawAtlasSubimage(this.atlasref,n+this.x,h+this.y+1,8,this.letterHeight,this.charTable[o.id],-1,-1,-1),e.drawAtlasSubimage(this.atlasref,n+this.x,h+this.y-1,8,this.letterHeight,this.charTable[o.id],-1,-1,-1),e.drawAtlasSubimage(this.atlasref,n+this.x+1,h+this.y,8,this.letterHeight,this.charTable[o.id],-1,-1,-1),e.drawAtlasSubimage(this.atlasref,n+this.x-1,h+this.y,8,this.letterHeight,this.charTable[o.id],-1,-1,-1),e.drawAtlasSubimage(this.atlasref,n+this.x,h+this.y,8,this.letterHeight,this.charTable[o.id],t.r,t.g,t.b)),this.letterWidths[this.charTable[o.id]]&&(n+=this.letterWidths[this.charTable[o.id]]+1)):(h+=15,n=0):n+=3}}wordwrap(e){return this.text=this.text.split(" ").map((function(t,i,r){return r.currentLineLength||(r.currentLineLength=0),r.currentLineLength+=t.length+1,r.currentLineLength>e?(r.currentLineLength=t.length,"\n"+t):t})).join(" ")}},C=function(e){var t,i,r,o;if((i=Math.floor(e/(1e3/this.targetUPS))-this.framesAccountedFor)>10&&(i=1,this.framesAccountedFor=Math.floor(performance.now()/(1e3/this.targetUPS))),0===i&&e-E>=1e3/this.targetUPS*.9&&i++,i>0){for(r=0,o=i;0<=o?r<o:r>o;0<=o?++r:--r)v&&(T(),v=!1),h.touch.update(),l.update(),h.touch.clear(),h.keysjustpressed={},this.framesAccountedFor++;l.draw(),f.x=f.y=-50,f.finish(),f.draw(n),t={r:0,g:0,b:0},h.touch.state===h.touch.START&&(t.r=-1),h.touch.state===h.touch.STATIONARY&&(t.b=t.g=-1),h.touch.state===h.touch.END&&(t.b=-1),n.ready&&n.update()}return this.lastChecked||(this.lastChecked=0),this.framesCounted||(this.framesCounted=0),this.unitsCounted||(this.unitsCounted=0),i>0&&this.framesCounted++,this.unitsCounted+=i,e>=this.lastChecked+1e3&&(this.framesCounted,this.unitsCounted,this.framesCounted=0,this.unitsCounted=0,this.lastChecked=1e3*Math.floor(e/1e3)),E=e,S=window.requestAnimationFrame(C.bind(this))},b=function(){var e;if(!g.connected){for(e in window.cancelAnimationFrame(S),m.style.opacity="0.5",y)y[e]=!1;return d.pause(),this.paused=!0}},R=function(){if(this.paused)return this.framesAccountedFor=Math.floor(performance.now()/(1e3/this.targetUPS)),this.paused=!1,m.style.opacity="1",window.cancelAnimationFrame(S),S=window.requestAnimationFrame(C.bind(this)),d.resume()},T=function(){var e,t,i,r,o;if(2!==n.renderingMode)return r=1,n.renderingMode>0&&(r=window.devicePixelRatio),i=m.clientWidth*r,t=m.clientHeight*r,s.isInStandaloneMode&&(i=screen.width*r,t=screen.height*r,m.style.width=`${screen.width}px`,m.style.height=`${screen.height}px`),s.isOnMobile?(o=1)>(e=i/t)?(A=160/e*o,x=160):(A=160,x=160*e/o):(160,160,512,512,(o=1)>(e=i/t)?(x=160,(A=160/e*o)>512&&(x*=512/A,A*=512/A)):(A=160,(x=160*e/o)>512&&(A*=512/x,x*=512/x))),x=Math.round(x),A=Math.round(A),x%2==1&&x++,A%2==1&&A++,s.internalResolution.x=x,s.internalResolution.y=A,n.resizeCanvas(i,t),n.resizeFramebuffer(x,A)},p=function(){var e;return(e=document.documentElement).requestFullscreen?e.requestFullscreen().catch((function(e){return console.log("Fullscreen request denied.")})):e.mozRequestFullScreen?e.mozRequestFullScreen().catch((function(e){return console.log("Fullscreen request denied.")})):e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullScreen?e.msRequestFullScreen().catch((function(e){return console.log("Fullscreen request denied.")})):void 0},console.log("%c This is where the fun begins","background: #000; font-weight: bold; text-transform: uppercase; color: #fff; padding: 10px 10px; line-height: 35px; border: 2px solid white; border-radius: 5px;"),w();</script></body>
<!-- Mirrored from ocias.com/works/flooding-the-eye/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2022 10:40:49 GMT -->
</html>
